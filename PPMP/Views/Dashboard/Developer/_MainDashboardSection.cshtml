@model MainDashboardViewModel



<section id="Dashboard-section">
            @{
                ViewData["Title"] = "Dashboard";
            }
            <!-- Dashboard Header -->
            <div class="mb-8">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-2">Dashboard</h1>
                <p class="text-gray-500">View and manage your projects and clients at a glance.</p>
            </div>

            <!-- Stats Grid -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-5 mb-8">
                <div
                    class="bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow relative overflow-hidden">
                    <div
                        class="absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-blue-100 to-transparent rounded-bl-full">
                    </div>
                    <div class="flex justify-between items-start mb-4 relative z-10">
                        <span class="text-sm text-gray-500 font-medium">Total Projects</span>
                        <span class="text-gray-400 cursor-pointer hover:text-gray-600">⋯</span>
                    </div>
                    <div class="text-3xl font-bold text-gray-800">@Model.NoOfProjects</div>
                </div>

                <div
                    class="bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow relative overflow-hidden">
                    <div
                        class="absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-blue-100 to-transparent rounded-bl-full">
                    </div>
                    <div class="flex justify-between items-start mb-4 relative z-10">
                        <span class="text-sm text-gray-500 font-medium">Total Clients</span>
                        <span class="text-gray-400 cursor-pointer hover:text-gray-600">⋯</span>
                    </div>
                    <div class="text-3xl font-bold text-gray-800">@Model.NoOfClients</div>
                </div>

                <div
                    class="bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow relative overflow-hidden">
                    <div
                        class="absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-green-100 to-transparent rounded-bl-full">
                    </div>
                    <div class="flex justify-between items-start mb-4 relative z-10">
                        <span class="text-sm text-gray-500 font-medium">New Projects</span>
                        <span class="text-gray-400 cursor-pointer hover:text-gray-600">⋯</span>
                    </div>
                    <div class="text-3xl font-bold text-gray-800">@Model.NoOfNewProjects</div>
                </div>

                <div
                    class="bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow relative overflow-hidden">
                    <div
                        class="absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-red-100 to-transparent rounded-bl-full">
                    </div>
                    <div class="flex justify-between items-start mb-4 relative z-10">
                        <span class="text-sm text-gray-500 font-medium">Completed Projects</span>
                        <span class="text-gray-400 cursor-pointer hover:text-gray-600">⋯</span>
                    </div>
                    <div class="text-3xl font-bold text-gray-800">@Model.NoOfCompletedProjects</div>
                </div>

                <div
                    class="bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow relative overflow-hidden">
                    <div
                        class="absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-indigo-100 to-transparent rounded-bl-full">
                    </div>
                    <div class="flex justify-between items-start mb-4 relative z-10">
                        <span class="text-sm text-gray-500 font-medium">Client Satisfaction Rate</span>
                        <span class="text-gray-400 cursor-pointer hover:text-gray-600">⋯</span>
                    </div>
                    <div class="text-3xl font-bold text-gray-800">@Model.ClientSatisfactionRate%</div>
                </div>
            </div>


            <div class="bg-white p-6 rounded-xl shadow-sm">
                <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-5">
                    <h2 class="text-xl font-semibold text-gray-800">Sessions</h2>
                    <div id="Add-client"
                        class="flex items-center gap-2 px-4 py-2 border bg-blue-600 text-white border-gray-300 rounded-lg cursor-pointer hover:border-blue-600 transition-all">
                        <span class="text-white">Add Sessions</span>
                        <i class="fas fa-plus text-sm text-white"></i>
                    </div>
                </div>


                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">ID</th>
                                <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Client
                                    Name</th>
                                <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Projects
                                    No.</th>
                                <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Created
                                    Date</th>
                                <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">PCR</th>
                            </tr>
                        </thead>

                        <tbody class="divide-y divide-gray-100">
                            @{
                                IEnumerable<ClientRowViewModel>? ClientRows = Model.Clients.Select(x => new ClientRowViewModel
                                {
                                    Id = x.ID,
                                    ClientName = x.Name,
                                    ProjectsCount = x.AmountOfProjects,
                                    CreatedDate = x.Created,
                                    Status = x.ProjectsProgressRate >= 80 ? "Active" : "Inactive"
                                });

                                foreach (ClientRowViewModel client in ClientRows)
                                {
                                    await Html.RenderPartialAsync("Developer/_ClientRowView", client);
                                }

                            }
                        </tbody>
                    </table>
                </div>

                @await Html.PartialAsync("Developer/_CreateClient", new PPMP.Models.CreateClientModel())
            </div>
</section>

@section Scripts{
    <script src="~/js/Dashboard/developer.js"></script>       
}